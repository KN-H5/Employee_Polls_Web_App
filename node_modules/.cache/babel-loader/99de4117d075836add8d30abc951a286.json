{"ast":null,"code":"var _jsxFileName = \"D:\\\\udacity-react-nanodegree-final-project-main\\\\src\\\\components\\\\PollPage\\\\PollPage.js\",\n    _s = $RefreshSig$();\n\nimport { connect } from \"react-redux\";\nimport { Navigate, useNavigate, useParams } from \"react-router-dom\";\nimport { handleAddAnswer } from \"../../actions/questions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PollPage = _ref => {\n  _s();\n\n  let {\n    dispatch,\n    authedUser,\n    question,\n    author\n  } = _ref;\n  const navigate = useNavigate();\n\n  if (!authedUser || !question || !author) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/404\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 12\n    }, this);\n  }\n\n  const hasVotedForOptionOne = question.optionOne.votes.includes(authedUser.id);\n  const hasVotedForOptionTwo = question.optionTwo.votes.includes(authedUser.id);\n  const hasVoted = hasVotedForOptionOne || hasVotedForOptionTwo;\n\n  const handleOptionOne = e => {\n    e.preventDefault();\n    dispatch(handleAddAnswer(question.id, \"optionOne\"));\n    navigate(\"/\");\n  };\n\n  const handleOptionTwo = e => {\n    e.preventDefault();\n    dispatch(handleAddAnswer(question.id, \"optionTwo\"));\n    navigate(\"/\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold mt-9\",\n      children: [\"Poll by \", author.id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: author.avatarURL,\n        alt: \"Profile\",\n        className: \"h-24 w-24\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold mt-6\",\n        children: \"Would you rather?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 gap-4 mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleOptionOne,\n        disabled: hasVoted,\n        className: \"p-2 rounded-xl bg-zinc-100 hover:shadow-xl transition \" + (hasVotedForOptionOne ? \"bg-sky-400 text-white\" : \"\"),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: hasVotedForOptionOne ? \"chosen\" : \"\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-bold mb-2\",\n            children: question.optionOne.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this), !hasVoted && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"underline underline-offset-4 mb-3\",\n            children: \"Click\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this), hasVoted && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs\",\n            children: [\"Votes: \", question.optionOne.votes.length, \" (\", calcPercentage(\"optionOne\", question), \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleOptionTwo,\n        disabled: hasVoted,\n        className: \"p-2 rounded-xl bg-zinc-100 hover:shadow-xl transition \" + (hasVotedForOptionTwo ? \"bg-sky-400 text-white\" : \"\"),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: hasVotedForOptionTwo ? \"chosen\" : \"\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-bold mb-2\",\n            children: question.optionTwo.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), !hasVoted && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"underline underline-offset-4 mb-3\",\n            children: \"Click\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this), hasVoted && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs\",\n            children: [\"Votes: \", question.optionTwo.votes.length, \" (\", calcPercentage(\"optionTwo\", question), \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: hasVoted ? \"Answered\" : \"Unanswered\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}; // mapStateToProps remains unchanged\n\n\n_s(PollPage, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n\n_c = PollPage;\nexport default connect(mapStateToProps)(PollPage);\n\nvar _c;\n\n$RefreshReg$(_c, \"PollPage\");","map":{"version":3,"names":["connect","Navigate","useNavigate","useParams","handleAddAnswer","PollPage","dispatch","authedUser","question","author","navigate","hasVotedForOptionOne","optionOne","votes","includes","id","hasVotedForOptionTwo","optionTwo","hasVoted","handleOptionOne","e","preventDefault","handleOptionTwo","avatarURL","text","length","calcPercentage","mapStateToProps"],"sources":["D:/udacity-react-nanodegree-final-project-main/src/components/PollPage/PollPage.js"],"sourcesContent":["import { connect } from \"react-redux\";\nimport { Navigate, useNavigate, useParams } from \"react-router-dom\";\nimport { handleAddAnswer } from \"../../actions/questions\";\n\nconst PollPage = ({ dispatch, authedUser, question, author }) => {\n  const navigate = useNavigate();\n\n  if (!authedUser || !question || !author) {\n    return <Navigate to=\"/404\" />;\n  }\n\n  const hasVotedForOptionOne = question.optionOne.votes.includes(authedUser.id);\n  const hasVotedForOptionTwo = question.optionTwo.votes.includes(authedUser.id);\n  const hasVoted = hasVotedForOptionOne || hasVotedForOptionTwo;\n\n  const handleOptionOne = (e) => {\n    e.preventDefault();\n    dispatch(handleAddAnswer(question.id, \"optionOne\"));\n    navigate(\"/\");\n  };\n\n  const handleOptionTwo = (e) => {\n    e.preventDefault();\n    dispatch(handleAddAnswer(question.id, \"optionTwo\"));\n    navigate(\"/\");\n  };\n\n  return (\n    <div>\n      <h1 className=\"text-3xl font-bold mt-9\">Poll by {author.id}</h1>\n\n      <div className=\"flex justify-center\">\n        <img src={author.avatarURL} alt=\"Profile\" className=\"h-24 w-24\" />\n      </div>\n\n      <div className=\"flex justify-center\">\n        <h2 className=\"text-2xl font-bold mt-6\">Would you rather?</h2>\n      </div>\n\n      <div className=\"grid grid-cols-2 gap-4 mt-4\">\n        <button\n          onClick={handleOptionOne}\n          disabled={hasVoted}\n          className={\n            \"p-2 rounded-xl bg-zinc-100 hover:shadow-xl transition \" +\n            (hasVotedForOptionOne ? \"bg-sky-400 text-white\" : \"\")\n          }\n        >\n          <div className={hasVotedForOptionOne ? \"chosen\" : \"\"}>\n            <p className=\"font-bold mb-2\">{question.optionOne.text}</p>\n            {!hasVoted && (\n              <p className=\"underline underline-offset-4 mb-3\">Click</p>\n            )}\n            {hasVoted && (\n              <p className=\"text-xs\">\n                Votes: {question.optionOne.votes.length} (\n                {calcPercentage(\"optionOne\", question)})\n              </p>\n            )}\n          </div>\n        </button>\n\n        <button\n          onClick={handleOptionTwo}\n          disabled={hasVoted}\n          className={\n            \"p-2 rounded-xl bg-zinc-100 hover:shadow-xl transition \" +\n            (hasVotedForOptionTwo ? \"bg-sky-400 text-white\" : \"\")\n          }\n        >\n          <div className={hasVotedForOptionTwo ? \"chosen\" : \"\"}>\n            <p className=\"font-bold mb-2\">{question.optionTwo.text}</p>\n            {!hasVoted && (\n              <p className=\"underline underline-offset-4 mb-3\">Click</p>\n            )}\n            {hasVoted && (\n              <p className=\"text-xs\">\n                Votes: {question.optionTwo.votes.length} (\n                {calcPercentage(\"optionTwo\", question)})\n              </p>\n            )}\n          </div>\n        </button>\n      </div>\n\n      <div className=\"mt-4\">\n        <p>{hasVoted ? \"Answered\" : \"Unanswered\"}</p>\n      </div>\n    </div>\n  );\n};\n\n// mapStateToProps remains unchanged\n\nexport default connect(mapStateToProps)(PollPage);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}